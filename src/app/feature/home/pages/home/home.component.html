<div class="c-home">
  <div class="content-busqueda">
    <form class="form-busqueda" (ngSubmit)="searchRoute()">
      <div class="input-group">
        <label for="origin">Origen</label>
        <input type="text" id="origin" #originInput [(ngModel)]="origin" name="origin" required />
      </div>
      <div class="input-group">
        <label for="destination">Destino</label>
        <input type="text" id="destination" #destinationInput [(ngModel)]="destination" name="destination" required />
      </div>
      <button type="submit">Buscar Ruta</button>
    </form>
    <!-- Historial Temporal -->
    <app-search-container [searchHistory]="searchHistory" (searchRoute)="searchRoute($event)"></app-search-container>
  </div>
  <div class="content-busqueda-movil">
    <div class="search-history_section">
      <div class="input-with-icon">
        <svg
          class="input-icon"
          version="1.0"
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 718 1280"
          fill="#0A8DC4">
            <path d="M337 .6c-1.9.2-8.7.9-15 1.5C216.9 12 118.9 71.5 59.3 161.5 13.4 230.8-8.1 319.9 3 394.5 21 514.9 112.4 754.8 267.3 1088c33 71 90.6 191 91.7 191 1.1 0 58.7-120 91.7-191 131.8-283.5 220-505.4 252.3-635 15.5-62.1 18.2-97.8 11-147-12.2-83.4-54.6-161.1-118.5-216.9-55.4-48.4-121.1-77.6-195-86.7C388.3.9 344.9-.3 337 .6zm56 202.7c63.1 15 108 60.5 122.2 123.9 2 9 2.3 13 2.3 31.3 0 16.4-.4 23-1.8 30-13.2 64.7-61.5 113.2-126.5 126.7-15.5 3.2-44.9 3.2-60.4 0-65-13.5-113.3-62-126.5-126.7-2.8-13.8-2.5-47.3.5-61.1 3-13.9 6.4-23.9 12.7-37.1 21.4-45 62.3-77.1 111.1-87.2 14.3-3 14.1-3 35.9-2.6 17.1.3 21.5.7 30.5 2.8z"/>
        </svg>
        <input type="text" id="originM" #originInputMovil [(ngModel)]="origin" name="originM" required />
        @if(origin == ''){
          <svg (click)="toggleLogin()" #loginIcon class="login-icon" width="20" height="20" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2"><circle cx="20.5" cy="105.5" r="6.5" fill="#90e0ef" transform="matrix(.92308 0 0 1 -2.923 -97)"/><ellipse cx="16.5" cy="120.5" rx="10.5" ry="5.5" fill="#90e0ef" transform="matrix(.95238 0 0 1.0101 .286 -97.273)"/><path d="M16 17.889c-3.563 0-6.715.994-8.673 2.478C5.83 21.501 5 22.932 5 24.444c0 1.513.83 2.944 2.327 4.078C9.285 30.006 12.437 31 16 31c3.563 0 6.715-.994 8.673-2.478C26.17 27.388 27 25.957 27 24.444c0-1.512-.83-2.943-2.327-4.077-1.958-1.484-5.11-2.478-8.673-2.478Zm0 2c3.06 0 5.783.798 7.466 2.072.93.706 1.534 1.543 1.534 2.483 0 .941-.604 1.778-1.534 2.484C21.783 28.202 19.06 29 16 29c-3.06 0-5.783-.798-7.466-2.072C7.604 26.222 7 25.385 7 24.444c0-.94.604-1.777 1.534-2.483 1.683-1.274 4.406-2.072 7.466-2.072ZM16 1c-3.841 0-7 3.339-7 7.5s3.159 7.5 7 7.5 7-3.339 7-7.5S19.841 1 16 1Zm0 2c2.783 0 5 2.486 5 5.5S18.783 14 16 14s-5-2.486-5-5.5S13.217 3 16 3Z" fill="#1990a7"/></svg>
        }
      </div>
    </div>
    <div class="search-history_section">
      <div class="input-with-icon">
        <svg
          class="input-icon"
          version="1.0"
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 718 1280"
          fill="#d9534f">
          <path d="M337 .6c-1.9.2-8.7.9-15 1.5C216.9 12 118.9 71.5 59.3 161.5 13.4 230.8-8.1 319.9 3 394.5 21 514.9 112.4 754.8 267.3 1088c33 71 90.6 191 91.7 191 1.1 0 58.7-120 91.7-191 131.8-283.5 220-505.4 252.3-635 15.5-62.1 18.2-97.8 11-147-12.2-83.4-54.6-161.1-118.5-216.9-55.4-48.4-121.1-77.6-195-86.7C388.3.9 344.9-.3 337 .6zm56 202.7c63.1 15 108 60.5 122.2 123.9 2 9 2.3 13 2.3 31.3 0 16.4-.4 23-1.8 30-13.2 64.7-61.5 113.2-126.5 126.7-15.5 3.2-44.9 3.2-60.4 0-65-13.5-113.3-62-126.5-126.7-2.8-13.8-2.5-47.3.5-61.1 3-13.9 6.4-23.9 12.7-37.1 21.4-45 62.3-77.1 111.1-87.2 14.3-3 14.1-3 35.9-2.6 17.1.3 21.5.7 30.5 2.8z" />
        </svg>
        <input type="text" id="destinationM" #destinationInputMovil [(ngModel)]="destination" name="destinationM" required />
      </div>
    </div>
  </div>
  <div class="map-container">
    <app-maps [originCoordinates]="originCoordinates" [destinationCoordinates]="destinationCoordinates" (routeGenerated)="onRouteGenerated($event)"></app-maps>
  </div>
</div>
@if(registerActive){
  <app-modal-login [toggleModal]="activeLogin" (toggleUpdate)="toggleLogin()" (changeModal)="redirectModalLogin()"></app-modal-login>
}
@else {
  <app-modal-register [toggleRegister]="activeLogin" (toggleUpdate)="toggleLogin()" (changeModal)="redirectModalRegister()"></app-modal-register>
}
